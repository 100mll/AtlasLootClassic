local ALName, ALPrivate = ...

local AtlasLoot = _G.AtlasLoot
local ItemSet = {}
AtlasLoot.Data.ItemSet = ItemSet
local Requirements = AtlasLoot.Data.Requirements
local AL = AtlasLoot.Locales
local ALIL = AtlasLoot.IngameLocales
local IMAGE_PATH = ALPrivate.ICONS_PATH

local GetItemSetInfo = GetItemSetInfo

-- lua
local assert, type = _G.assert, _G.type
local format = _G.string.format

-- WoW
local GetItemQualityColor, GetItemIcon = _G.GetItemQualityColor, _G.GetItemIcon

local GLOBAL_SETS = "global"
local NO_ICON = "Interface\\Icons\\inv_helmet_08"
local ICON_PATH_CLASS = ALPrivate.CLASS_ICON_PATH
local CLASS_BIT_TO_CLASS = ALPrivate.CLASS_BIT_TO_CLASS

local SPECIAL_ICONS = {
	[466] = GetItemIcon(19898), -- Major Mojo Infusion
	[462] = GetItemIcon(19905), -- Zanzil's Concentration
	[465] = GetItemIcon(19863), -- Prayer of the Primal
	[464] = GetItemIcon(19873), -- Overlord's Resolution
	[461] = GetItemIcon(19865), -- The Twin Blades of Hakkari
	[41]  = GetItemIcon(12940), -- Dal'Rend's Arms
	[463] = GetItemIcon(19896), -- Primal Blessing
	[261] = GetItemIcon(18203), -- Spirit of Eskhandar
	[65]  = GetItemIcon(13183), -- Spider's Kiss
}
local COLOR_STRINGS = {}
local ContentPhaseCache = {}
local CLASS_NAMES_WITH_COLORS = {}
local ContentPhase

local function OnInit()
    for i=0,7 do
		local _, _, _, itemQuality = GetItemQualityColor(i)
		COLOR_STRINGS[i] = "|c"..itemQuality
	end

    CLASS_NAMES_WITH_COLORS = AtlasLoot:GetColoredClassNames()
    ContentPhase = AtlasLoot.Data.ContentPhase
end
AtlasLoot:AddInitFunc(OnInit)

local ITEM_SET_DATA = {
	-- [setID] { {itemID's}, armorTypeID, qualityID, itemLevelAvg, allowableClasses }
	[1] = {{11729,11726,11728,11731,11730},3,3,57,0},
	[41] = {{12940,12939},0,3,63,0},
	[65] = {{13183,13218},0,3,61,0},
	[81] = {{13390,13388,13389,13391,13392},1,3,61,0},
	[121] = {{14637,14636,14638,14641,14640},2,3,61,0},
	[122] = {{14633,14632,14631,14629,14626},1,3,61,0},
	[123] = {{14611,14614,14612,14616,14615},3,3,61,0},
	[124] = {{14624,14620,14623,14621,14622},4,3,61,0},
	[141] = {{15055,15053,15054},2,2,57,0},
	[142] = {{15058,15056,15057,21278},2,3,58,32767},
	[143] = {{15062,15063},2,3,59,0},
	[144] = {{15067,15066},2,3,56,0},
	[161] = {{10399,10403,10400,10402,10401},2,2,20,0},
	[162] = {{6473,10412,10410,10411,10413},2,2,22,0},
	[163] = {{10328,10329,10330,10332,10333,10331},3,2,38,0},
	[181] = {{16686,16689,16685,16687,16682,16683,16684,16688},1,3,60,0},
	[182] = {{16693,16695,16696,16694,16691,16697,16692,16690},1,3,60,0},
	[183] = {{16698,16701,16702,16699,16704,16703,16705,16700},1,3,60,0},
	[184] = {{16707,16708,16721,16713,16709,16711,16710,16712},2,3,60,0},
	[185] = {{16720,16718,16706,16716,16719,16715,16714,16717},2,3,60,0},
	[186] = {{16677,16679,16674,16680,16678,16675,16681,16676},3,3,60,0},
	[187] = {{16667,16669,16666,16673,16668,16670,16671,16672},3,3,60,0},
	[188] = {{16727,16729,16726,16723,16728,16725,16722,16724},4,3,60,0},
	[189] = {{16731,16733,16730,16736,16732,16734,16735,16737},4,3,60,0},
	[201] = {{16795,16797,16802,16796,16800,16799,16801,16798},1,4,66,128},
	[202] = {{16813,16816,16817,16814,16811,16819,16812,16815},1,4,66,16},
	[203] = {{16808,16807,16806,16810,16803,16804,16805,16809},1,4,66,256},
	[204] = {{16821,16823,16820,16827,16822,16824,16825,16826},2,4,66,8},
	[205] = {{16834,16836,16828,16835,16829,16830,16831,16833},2,4,66,1024},
	[206] = {{16846,16848,16845,16851,16847,16849,16850,16852},3,4,66,4},
	[207] = {{16842,16844,16838,16843,16837,16840,16839,16841},3,4,66,64},
	[208] = {{16854,16856,16853,16858,16855,16859,16857,16860},4,4,66,2},
	[209] = {{16866,16868,16865,16864,16867,16862,16861,16863},4,4,66,1},
	[210] = {{16914,16917,16818,16915,16912,16918,16913,16916},1,4,76,128},
	[211] = {{16921,16924,16925,16922,16919,16926,16920,16923},1,4,76,16},
	[212] = {{16929,16932,16933,16930,16927,16934,16928,16931},1,4,76,256},
	[213] = {{16908,16832,16905,16910,16909,16906,16911,16907},2,4,76,8},
	[214] = {{16900,16902,16897,16903,16901,16898,16904,16899},2,4,76,1024},
	[215] = {{16939,16937,16942,16936,16938,16941,16935,16940},3,4,76,4},
	[216] = {{16947,16945,16950,16944,16946,16949,16943,16948},3,4,76,64},
	[217] = {{16955,16953,16958,16952,16954,16957,16951,16956},4,4,76,2},
	[218] = {{16963,16961,16966,16960,16962,16965,16959,16964},4,4,76,1},
	[221] = {{7953,7950,7948,7949,7952,7951},2,2,37,8},
	[241] = {{17064,17082},0,4,73,0},
	[261] = {{18205,18204,18203,18202},0,4,67,0},
	[281] = {{16514,16516,16513,16515,16509,16510},4,3,63,1},
	[282] = {{16429,16432,16430,16431,16405,16406},4,3,63,1},
	[301] = {{16521,16524,16522,16523,16518,16519},3,3,63,64},
	[321] = {{12427,12428,12422,12424,12429,12426,12425},4,2,57,0},
	[341] = {{16489,16492,16490,16485,16487,16491},1,3,63,128},
	[342] = {{17610,17613,17611,17616,17617,17612},1,3,63,16},
	[343] = {{16416,16415,16414,16369,16391,16413},1,3,63,128},
	[344] = {{17598,17601,17599,17594,17596,17600},1,3,63,16},
	[345] = {{17570,17573,17571,17576,17577,17572},1,3,63,256},
	[346] = {{17566,17569,17567,17562,17564,17568},1,3,63,256},
	[347] = {{16506,16507,16505,16508,16498,16499},2,3,63,8},
	[348] = {{16418,16420,16417,16419,16392,16396},2,3,63,8},
	[361] = {{16526,16528,16525,16527,16531,16530},3,3,63,4},
	[362] = {{16428,16427,16425,16426,16401,16403},3,3,63,4},
	[381] = {{16424,16423,16421,16422,16393,16397},2,3,63,1024},
	[382] = {{16503,16501,16504,16502,16494,16496},2,3,63,1024},
	[383] = {{16542,16544,16541,16543,16545,16548},4,4,73,1},
	[384] = {{16478,16480,16477,16479,16483,16484},4,4,73,1},
	[386] = {{16578,16580,16577,16579,16573,16574},3,4,73,64},
	[387] = {{16533,16536,16534,16539,16540,16535},1,4,73,128},
	[388] = {{16441,16444,16442,16437,16440,16443},1,4,73,128},
	[389] = {{17602,17604,17603,17607,17608,17605},1,4,73,16},
	[390] = {{17623,17622,17625,17618,17620,17624},1,4,73,16},
	[391] = {{17591,17590,17593,17586,17588,17592},1,4,73,256},
	[392] = {{17578,17580,17579,17583,17584,17581},1,4,73,256},
	[393] = {{16561,16562,16563,16564,16558,16560},2,4,73,8},
	[394] = {{16455,16457,16453,16456,16446,16454},2,4,73,8},
	[395] = {{16465,16468,16466,16467,16462,16463},3,4,73,4},
	[396] = {{16566,16568,16565,16567,16569,16571},3,4,73,4},
	[397] = {{16451,16449,16452,16450,16459,16448},2,4,73,1024},
	[398] = {{16550,16551,16549,16552,16554,16555},2,4,73,1024},
	[401] = {{16434,16436,16433,16435,16409,16410},4,3,63,2},
	[402] = {{16474,16476,16473,16475,16472,16471},4,4,73,2},
	[421] = {{19682,19683,19684},1,3,65,0},
	[441] = {{19685,19687,19686},2,3,65,0},
	[442] = {{19689,19688},2,3,65,0},
	[443] = {{19691,19690,19692},3,3,65,0},
	[444] = {{19695,19693,19694},4,3,65,0},
	[461] = {{19865,19866},0,4,67,0},
	[462] = {{19893,19905},0,3,70,0},
	[463] = {{19896,19910},0,4,65,0},
	[464] = {{19912,19873},0,3,70,0},
	[465] = {{19920,19863},0,3,70,0},
	[466] = {{19925,19898},0,3,68,0},
	[467] = {{20057,20041,20048},4,3,64,3},
	[468] = {{20058,20042,20049},4,3,64,2},
	[469] = {{20055,20043,20050},3,3,64,4},
	[470] = {{20056,20044,20051},3,3,64,4},
	[471] = {{20059,20045,20052},2,3,64,1032},
	[472] = {{20060,20046,20053},2,3,64,1032},
	[473] = {{20061,20047,20054},1,3,64,400},
	[474] = {{19577,19822,19823,19824,19951},4,4,63,1},
	[475] = {{19588,19825,19826,19827,19952},4,4,63,2},
	[476] = {{19609,19828,19829,19830,19956},3,4,63,64},
	[477] = {{19621,19831,19832,19833,19953},3,4,64,4},
	[478] = {{19617,19835,19834,19836,19954},2,4,63,8},
	[479] = {{19613,19838,19839,19840,19955},2,4,63,1024},
	[480] = {{19594,19841,19842,19843,19958},1,4,64,16},
	[481] = {{19605,19849,19848,19957,20033},1,4,63,256},
	[482] = {{19601,19845,19846,19959,20034},1,4,63,128},
	[483] = {{20158,20150,20154},3,3,64,68},
	[484] = {{20203,20195,20199},3,3,64,68},
	[485] = {{20176,20163,20159},1,3,64,400},
	[486] = {{20194,20190,20186},2,3,64,1032},
	[487] = {{20212,20204,20208},4,3,64,1},
	[488] = {{20175,20171,20167},2,3,64,1032},
	[489] = {{15051,15050,15052,16984},3,3,60,0},
	[490] = {{15045,15046,20296},3,3,54,0},
	[491] = {{15049,15048,20295},3,3,59,0},
	[492] = {{20408,20406,20407},1,2,60,32767},
	[493] = {{21353,21354,21357,21356,21355},2,4,81,1024},
	[494] = {{21408,21409,21407},0,4,67,1024},
	[495] = {{21393,21392,21394},0,4,67,1},
	[496] = {{21329,21330,21331,21332,21333},4,4,81,1},
	[497] = {{21360,21361,21364,21362,21359},2,4,81,8},
	[498] = {{21405,21404,21406},0,4,67,8},
	[499] = {{21337,21335,21336,21338,21334},1,4,81,256},
	[500] = {{21417,21416,21418},0,4,67,256},
	[501] = {{21372,21376,21374,21375,21373},3,4,81,64},
	[502] = {{21399,21400,21398},0,4,67,64},
	[503] = {{21347,21345,21346,21344,21343},1,4,81,128},
	[504] = {{21414,21415,21413},0,4,67,128},
	[505] = {{21387,21391,21389,21390,21388},4,4,81,2},
	[506] = {{21396,21397,21395},0,4,67,2},
	[507] = {{21348,21350,21352,21349,21351},1,4,81,16},
	[508] = {{21411,21412,21410},0,4,67,16},
	[509] = {{21366,21367,21370,21368,21365},3,4,82,4},
	[510] = {{21402,21401,21403},0,4,67,4},
	[511] = {{21999,22001,21997,21994,22000,21995,21996,21998},4,3,62,0},
	[512] = {{22005,22008,22009,22002,22007,22003,22004,22006},2,3,62,0},
	[513] = {{22109,22112,22113,22106,22111,22107,22108,22110},2,3,62,0},
	[514] = {{22080,22082,22078,22085,22084,22079,22081,22083},1,3,62,0},
	[515] = {{22013,22016,22060,22010,22017,22061,22011,22015},3,3,62,0},
	[516] = {{22091,22093,22089,22086,22092,22087,22088,22090},4,3,62,0},
	[517] = {{22065,22068,22062,22067,22064,22063,22066,22069},1,3,62,0},
	[518] = {{22074,22073,22070,22072,22076,22071,22077,22075},1,3,62,0},
	[519] = {{22097,22101,22102,22098,22100,22096,22095,22099},3,3,62,0},
	[520] = {{22302,22305,22306,22303,22311,22313,22304,22301},1,3,62,400},
	[521] = {{22490,22491,22488,22494,22489,22492,22495,22493,23064},2,4,88,1024},
	[522] = {{23257,23258,22879,22880,22856,22864},2,3,68,8},
	[523] = {{22418,22419,22416,22422,22417,22420,22423,22421,23059},4,4,88,1},
	[524] = {{22478,22479,22476,22482,22477,22480,22483,22481,23060},2,4,88,8},
	[525] = {{22514,22515,22518,22513,22516,22519,22517,23061,22512},1,4,88,16},
	[526] = {{22498,22499,22502,22497,22500,22503,22501,23062,22496},1,4,88,128},
	[527] = {{22466,22467,22464,22470,22465,22468,22471,22469,23065},3,4,88,64},
	[528] = {{22428,22429,22425,22431,22427,22430,22424,22426,23066},4,4,88,2},
	[529] = {{22506,22507,22510,22505,22508,22511,22509,23063,22504},1,4,88,256},
	[530] = {{22438,22439,22436,22442,22437,22440,22443,22441,23067},3,4,88,4},
	[533] = {{23087,23090,23078},4,3,63,1535},
	[534] = {{23089,23093,23081},2,3,63,1535},
	[535] = {{23088,23092,23082},3,3,63,32767},
	[536] = {{23091,23084,23085},1,3,63,32767},
	[537] = {{23244,23243,22872,22873,22858,22868},4,3,68,1},
	[538] = {{23259,23260,22876,22887,22857,22867},3,3,68,64},
	[539] = {{23253,23254,22877,22878,22852,22863},2,3,68,1024},
	[540] = {{23261,23262,22882,22859,22869,22885},1,3,68,16},
	[541] = {{23255,23256,22881,22855,22865,22884},1,3,68,256},
	[542] = {{23263,23264,22883,22860,22870,22886},1,3,68,128},
	[543] = {{23251,23252,22874,22875,22843,22862},3,3,68,4},
	[544] = {{23276,23277,23272,23273,23275,23274},4,3,68,2},
	[545] = {{23314,23315,23300,23301,23287,23286},4,3,68,1},
	[546] = {{23318,23319,23304,23291,23290,23305},1,3,68,128},
	[547] = {{23310,23311,23296,23283,23282,23297},1,3,68,256},
	[548] = {{23312,23313,23298,23299,23285,23284},2,3,68,8},
	[549] = {{23316,23317,23302,23289,23288,23303},1,3,68,16},
	[550] = {{23306,23307,23292,23293,23278,23279},3,3,68,4},
	[551] = {{23308,23309,23294,23295,23281,23280},2,3,68,1024},
--@version-bc@
	[142] = {{15058,15056,15057,21278},2,3,57,32767},
	[162] = {{6473,10412,10410,10411,10413},2,3,22,0},
	[469] = {{20055,20043,20050},3,3,64,68},
	[470] = {{20056,20044,20051},3,3,64,68},
	[487] = {{20212,20204,20208},4,3,64,3},
	[500] = {{21417,21418,21416},0,4,67,256},
	[506] = {{21396,21395,21397},0,4,67,2},
	[552] = {{21846,21847,21848},1,4,105,32767},
	[553] = {{21869,21870,21871},1,4,105,32767},
	[554] = {{21874,21873,21875},1,4,113,32767},
	[555] = {{21855,21850,21852,21853,21849,21851,21854},1,2,103,0},
	[556] = {{21862,21859,21860,21861},1,3,111,32767},
	[557] = {{21864,21865,21863},1,4,100,32767},
	[558] = {{21867,21866,21868},1,3,114,32767},
	[559] = {{24266,24262},1,4,105,0},
	[560] = {{23489,23484,23488,23487,23482},4,2,95,32767},
	[561] = {{23493,23490,23494,23491},3,2,95,32767},
	[562] = {{23507,23506,23508},4,3,104,32767},
	[563] = {{23509,23510,23512,23511},4,3,114,0},
	[564] = {{23516,23513,23515,23514},4,3,114,0},
	[565] = {{23524,23523,23525},4,3,114,32767},
	[566] = {{23521,33173,23522,23520},4,3,115,0},
	[567] = {{24545,24546,24544,24547,24549},4,4,123,1},
	[568] = {{24553,24554,24555,24556,24552},1,4,123,256},
	[569] = {{23519,23518,23517},4,3,114,0},
	[570] = {{24255,24249},1,3,109,32767},
	[571] = {{24264,24261},1,4,105,0},
	[572] = {{24267,24263},1,4,105,0},
	[573] = {{25687,25686,25685},2,3,110,0},
	[574] = {{25689,25690,25691},2,3,113,0},
	[575] = {{25696,25695,25697},3,3,113,0},
	[576] = {{25694,25692,25693},3,3,104,0},
	[577] = {{25830,25832,25831,25833,25834},2,4,123,8},
	[578] = {{25998,25999,25997,26001,26000},3,4,123,64},
	[579] = {{25855,25854,25858,25857,25856},1,4,123,128},
	[580] = {{27471,27473,27469,27472,27470},3,4,123,64},
	[581] = {{27708,27710,27709,27707,27711},1,4,123,16},
	[582] = {{27704,27706,27702,27705,27703},4,4,123,2},
	[583] = {{27881,27883,27879,27882,27880},4,4,123,2},
	[584] = {{28127,28129,28130,28128,28126},2,4,123,1024},
	[585] = {{28137,28139,28140,28138,28136},2,4,123,1024},
	[586] = {{28331,28333,28334,28332,28335},3,4,123,4},
	[587] = {{28833,28835,28831,28834,28832},4,3,115,2},
	[588] = {{28853,28855,28851,28854,28852},4,3,115,1},
	[589] = {{28681,28683,28679,28724,28680},4,3,115,2},
	[590] = {{28701,28703,28699,28702,28700},4,3,115,1},
	[591] = {{28625,28627,28626,28624,28628},1,3,115,256},
	[592] = {{28818,28820,28819,28817,28821},1,3,115,256},
	[593] = {{28691,28693,28689,28692,28690},3,3,115,64},
	[594] = {{28843,28845,28841,28844,28842},3,3,115,64},
	[595] = {{28615,28617,28613,28616,28614},3,3,115,4},
	[596] = {{28807,28809,28805,28808,28806},3,3,115,4},
	[597] = {{28705,28707,28706,28704,28708},1,3,115,16},
	[598] = {{28857,28859,28858,28856,28860},1,3,115,16},
	[599] = {{28715,28714,28718,28716,28717},1,3,115,128},
	[600] = {{28867,28866,28870,28868,28869},1,3,115,128},
	[601] = {{28619,28622,28623,28620,28618},2,3,115,1024},
	[602] = {{28812,28814,28815,28813,28811},2,3,115,1024},
	[603] = {{28696,28698,28694,28697,28695},3,3,115,64},
	[604] = {{28848,28850,28846,28849,28847},3,3,115,64},
	[605] = {{28685,28687,28688,28686,28684},2,3,115,8},
	[606] = {{28837,28839,28840,28838,28836},2,3,115,8},
	[607] = {{28711,28713,28709,28712,28710},4,3,115,2},
	[608] = {{28863,28865,28861,28864,28862},4,3,115,2},
	[609] = {{28720,28722,28723,28721,28719},2,3,115,1024},
	[610] = {{28872,28874,28875,28873,28871},2,3,115,1024},
	[611] = {{25657,25656,25655,25654},3,2,96,0},
	[612] = {{25660,25662,25659,25661},3,2,97,0},
	[613] = {{25671,25670,25668,25669},2,2,96,0},
	[614] = {{25676,25675,25673,25674},2,2,95,0},
	[615] = {{30187,30186,30201,30188,30200},1,4,123,256},
	[616] = {{29515,29516,29517},3,4,113,0},
	[617] = {{29519,29520,29521},3,4,117,0},
	[618] = {{29522,29524,29523},2,4,117,0},
	[619] = {{29525,29526,29527},2,4,117,0},
	[620] = {{28414,27776,28204,27908,27509},2,3,115,32767},
	[621] = {{29044,29047,29045,29046,29048},2,4,120,8},
	[622] = {{30146,30149,30144,30148,30145},2,4,133,8},
	[623] = {{28285,27739,28203,27839,27535},4,3,115,0},
	[624] = {{29061,29064,29062,29063,29065},4,4,120,2},
	[625] = {{29068,29070,29066,29069,29067},4,4,120,2},
	[626] = {{29073,29075,29071,29074,29072},4,4,120,2},
	[627] = {{30136,30138,30134,30137,30135},4,4,133,2},
	[628] = {{30125,30127,30123,30126,30124},4,4,133,2},
	[629] = {{30131,30133,30129,30132,30130},4,4,133,2},
	[630] = {{28349,27802,28231,27909,27510},3,3,115,0},
	[631] = {{29028,29031,29029,29030,29032},3,4,120,64},
	[632] = {{29035,29037,29033,29036,29034},3,4,120,64},
	[633] = {{29040,29043,29038,29042,29039},3,4,120,64},
	[634] = {{30166,30168,30164,30167,30165},3,4,133,64},
	[635] = {{30171,30173,30169,30172,30170},3,4,133,64},
	[636] = {{30190,30194,30185,30192,30189},3,4,133,64},
	[637] = {{28348,27737,27873,27468,28202},2,3,115,0},
	[638] = {{29086,29089,29087,29088,29090},2,4,120,1024},
	[639] = {{29093,29095,29091,29094,29092},2,4,120,1024},
	[640] = {{29098,29100,29096,29099,29097},2,4,120,1024},
	[641] = {{30228,30230,30222,30229,30223},2,4,133,1024},
	[642] = {{30219,30221,30216,30220,30217},2,4,133,1024},
	[643] = {{30233,30235,30231,30234,30232},2,4,133,1024},
	[644] = {{28415,27778,27948,27537,28232},1,3,115,32767},
	[645] = {{28963,28967,28966,28968,28964},1,4,120,256},
	[646] = {{30212,30215,30213,30211,30214},1,4,133,256},
	[647] = {{28278,27738,27838,27508,28229},1,3,115,32767},
	[648] = {{29076,29079,29078,29080,29077},1,4,120,128},
	[649] = {{30206,30210,30207,30205,30196},1,4,133,128},
	[650] = {{28275,27801,28228,27874,27474},3,3,115,0},
	[651] = {{29081,29084,29082,29083,29085},3,4,120,4},
	[652] = {{30141,30143,30139,30142,30140},3,4,133,4},
	[653] = {{28350,27803,28205,27977,27475},4,3,115,32767},
	[654] = {{29011,29016,29012,29015,29017},4,4,120,1},
	[655] = {{29021,29023,29019,29022,29020},4,4,120,1},
	[656] = {{30115,30117,30113,30116,30114},4,4,133,1},
	[657] = {{30120,30122,30118,30121,30119},4,4,133,1},
	[658] = {{28193,27796,27907,27465,28191},1,3,115,32767},
	[659] = {{28224,27797,28264,27837,27531},2,3,115,32767},
	[660] = {{28192,27713,28401,27936,27528},3,3,115,0},
	[661] = {{28225,27771,28403,27870,27497},4,3,115,32767},
	[662] = {{28413,27775,27875,27536,28230},1,3,115,32767},
	[663] = {{29049,29054,29053,29055,29050},1,4,120,16},
	[664] = {{29058,29060,29059,29057,29056},1,4,120,16},
	[665] = {{30152,30154,30153,30151,30150},1,4,133,16},
	[666] = {{30161,30163,30162,30160,30159},1,4,133,16},
	[667] = {{31338,31339},0,4,100,0},
	[668] = {{31027,31030,31028,34558,31029,34575,34448,31026},2,4,149,8},
	[669] = {{31003,31006,31004,34549,31005,34570,34443,31001},3,4,149,4},
	[670] = {{31051,31054,34541,31053,34564,34436,31050,31052},1,4,149,256},
	[671] = {{31056,31059,34557,31058,34574,34447,31055,31057},1,4,149,128},
	[672] = {{30972,30979,30975,34546,30977,34569,34441,30969},4,4,149,1},
	[673] = {{30974,30980,30976,34547,30978,34568,34442,30970},4,4,149,1},
	[674] = {{31064,31070,34528,31067,34563,34434,31061,31065},1,4,149,16},
	[675] = {{31063,31069,34527,31068,34562,34435,31060,31066},1,4,149,16},
	[676] = {{31039,31048,34556,31044,34573,34444,31034,31042},2,4,149,1024},
	[677] = {{31040,31049,34555,31046,34572,34446,31035,31043},2,4,149,1024},
	[678] = {{31037,31047,34554,31045,34571,34445,31032,31041},2,4,149,1024},
	[679] = {{30987,30998,30991,34488,30995,34560,34433,30985},4,4,149,2},
	[680] = {{30989,30997,30990,34485,30993,34561,34431,30982},4,4,149,2},
	[681] = {{30988,30996,30992,34487,30994,34559,34432,30983},4,4,149,2},
	[682] = {{31015,31024,34545,31021,34567,34439,31011,31018},3,4,149,64},
	[683] = {{31012,31022,34543,31019,34565,34438,31007,31016},3,4,149,64},
	[684] = {{31014,31023,34542,31020,34566,34437,31008,31017},3,4,149,64},
	[685] = {{31376,31378,31379,31377,31375},2,4,123,1024},
	[686] = {{31400,31407,31396,31406,31397},3,4,123,64},
	[687] = {{31410,31412,31411,31409,31413},1,4,123,16},
	[688] = {{31590,31592,31593,31591,31589},2,3,115,1024},
	[689] = {{31585,31587,31588,31586,31584},2,3,115,1024},
	[690] = {{31616,31619,31613,31618,31614},4,4,123,2},
	[691] = {{31622,31624,31623,31620,31625},1,3,115,16},
	[692] = {{31626,31628,31627,31621,31629},1,3,115,16},
	[693] = {{31632,31634,31630,31633,31631},4,3,115,2},
	[694] = {{31637,31639,31635,31638,31636},4,3,115,2},
	[695] = {{31642,31644,31640,31643,31641},3,3,115,64},
	[696] = {{31648,31650,31646,31649,31647},3,3,115,64},
	[697] = {{29604,29605,29602,29603,29601,29600},4,3,68,2},
	[698] = {{29616,29617,29615,29614,29612,29613},4,4,73,2},
	[699] = {{32837,32838},0,5,156,9},
	[700] = {{},0,0,0,0},
	[701] = {{},0,0,0,0},
	[702] = {{},0,0,0,0},
	[703] = {{},0,0,0,0},
	[704] = {{},0,0,0,0},
	[705] = {{},0,0,0,0},
	[706] = {{},0,0,0,0},
	[707] = {{},0,0,0,0},
	[708] = {{},0,0,0,0},
	[709] = {{},0,0,0,0},
	[710] = {{},0,0,0,0},
	[711] = {{},0,0,0,0},
	[712] = {{},0,0,0,0},
	[713] = {{},0,0,0,0},
	[714] = {{},0,0,0,0},
	[715] = {{},0,0,0,0},
	[716] = {{},0,0,0,0},
	[717] = {{29610,29611,29609,29608,29606,29607},3,4,73,64},
	[718] = {{29598,29599,29596,29597,29594,29595},3,3,68,64},
	[719] = {{32946,32945},0,4,141,0},
	[720] = {{},0,0,0,0},
	[721] = {{},0,0,0,0},
	[722] = {{},0,0,0,0},
	[723] = {{},0,0,0,0},
	[724] = {{},0,0,0,0},
	[725] = {{},0,0,0,0},
	[726] = {{},0,0,0,0},
	[727] = {{},0,0,0,0},
	[728] = {{},0,0,0,0},
	[729] = {{},0,0,0,0},
	[730] = {{},0,0,0,0},
	[731] = {{},0,0,0,0},
	[732] = {{},0,0,0,0},
	[733] = {{},0,0,0,0},
	[734] = {{},0,0,0,0},
	[735] = {{},0,0,0,0},
	[736] = {{},0,0,0,0},
	[737] = {{28189,34703},0,3,115,0},
	[738] = {{35329,35331,35330,35328,35332},1,3,115,256},
	[739] = {{35333,35336,35334,35335,35337},1,3,115,16},
	[740] = {{35339,35341,35340,35338,35342},1,3,115,16},
	[741] = {{35344,35343,35347,35345,35346},1,3,115,128},
	[742] = {{35357,35359,35358,35356,35360},2,3,115,1024},
	[743] = {{35372,35374,35373,35371,35375},2,3,115,1024},
	[744] = {{35362,35364,35363,35361,35365},2,3,115,1024},
	[745] = {{35367,35369,35370,35368,35366},2,3,115,8},
	[746] = {{35388,35390,35389,35387,35386},3,3,115,64},
	[747] = {{35393,35395,35394,35392,35391},3,3,115,64},
	[748] = {{35383,35385,35384,35382,35381},3,3,115,64},
	[749] = {{35378,35380,35379,35377,35376},3,3,115,4},
	[750] = {{35409,35411,35407,35410,35408},4,3,115,1},
	[751] = {{35404,35406,35402,35405,35403},4,3,115,2},
	[752] = {{35414,35416,35412,35415,35413},4,3,115,2},
--@end-version-bc@
}

local ITEM_TO_SET = {
	-- [itemID] = setID
	[6473]=162,[7948]=221,[7949]=221,[7950]=221,[7951]=221,[7952]=221,[7953]=221,[10328]=163,[10329]=163,
	[10330]=163,[10331]=163,[10332]=163,[10333]=163,[10399]=161,[10400]=161,[10401]=161,[10402]=161,[10403]=161,
	[10410]=162,[10411]=162,[10412]=162,[10413]=162,[11726]=1,[11728]=1,[11729]=1,[11730]=1,[11731]=1,
	[12422]=321,[12424]=321,[12425]=321,[12426]=321,[12427]=321,[12428]=321,[12429]=321,[12939]=41,[12940]=41,
	[13183]=65,[13218]=65,[13388]=81,[13389]=81,[13390]=81,[13391]=81,[13392]=81,[14611]=123,[14612]=123,
	[14614]=123,[14615]=123,[14616]=123,[14620]=124,[14621]=124,[14622]=124,[14623]=124,[14624]=124,[14626]=122,
	[14629]=122,[14631]=122,[14632]=122,[14633]=122,[14636]=121,[14637]=121,[14638]=121,[14640]=121,[14641]=121,
	[15045]=490,[15046]=490,[15048]=491,[15049]=491,[15050]=489,[15051]=489,[15052]=489,[15053]=141,[15054]=141,
	[15055]=141,[15056]=142,[15057]=142,[15058]=142,[15062]=143,[15063]=143,[15066]=144,[15067]=144,[16369]=343,
	[16391]=343,[16392]=348,[16393]=381,[16396]=348,[16397]=381,[16401]=362,[16403]=362,[16405]=282,[16406]=282,
	[16409]=401,[16410]=401,[16413]=343,[16414]=343,[16415]=343,[16416]=343,[16417]=348,[16418]=348,[16419]=348,
	[16420]=348,[16421]=381,[16422]=381,[16423]=381,[16424]=381,[16425]=362,[16426]=362,[16427]=362,[16428]=362,
	[16429]=282,[16430]=282,[16431]=282,[16432]=282,[16433]=401,[16434]=401,[16435]=401,[16436]=401,[16437]=388,
	[16440]=388,[16441]=388,[16442]=388,[16443]=388,[16444]=388,[16446]=394,[16448]=397,[16449]=397,[16450]=397,
	[16451]=397,[16452]=397,[16453]=394,[16454]=394,[16455]=394,[16456]=394,[16457]=394,[16459]=397,[16462]=395,
	[16463]=395,[16465]=395,[16466]=395,[16467]=395,[16468]=395,[16471]=402,[16472]=402,[16473]=402,[16474]=402,
	[16475]=402,[16476]=402,[16477]=384,[16478]=384,[16479]=384,[16480]=384,[16483]=384,[16484]=384,[16485]=341,
	[16487]=341,[16489]=341,[16490]=341,[16491]=341,[16492]=341,[16494]=382,[16496]=382,[16498]=347,[16499]=347,
	[16501]=382,[16502]=382,[16503]=382,[16504]=382,[16505]=347,[16506]=347,[16507]=347,[16508]=347,[16509]=281,
	[16510]=281,[16513]=281,[16514]=281,[16515]=281,[16516]=281,[16518]=301,[16519]=301,[16521]=301,[16522]=301,
	[16523]=301,[16524]=301,[16525]=361,[16526]=361,[16527]=361,[16528]=361,[16530]=361,[16531]=361,[16533]=387,
	[16534]=387,[16535]=387,[16536]=387,[16539]=387,[16540]=387,[16541]=383,[16542]=383,[16543]=383,[16544]=383,
	[16545]=383,[16548]=383,[16549]=398,[16550]=398,[16551]=398,[16552]=398,[16554]=398,[16555]=398,[16558]=393,
	[16560]=393,[16561]=393,[16562]=393,[16563]=393,[16564]=393,[16565]=396,[16566]=396,[16567]=396,[16568]=396,
	[16569]=396,[16571]=396,[16573]=386,[16574]=386,[16577]=386,[16578]=386,[16579]=386,[16580]=386,[16666]=187,
	[16667]=187,[16668]=187,[16669]=187,[16670]=187,[16671]=187,[16672]=187,[16673]=187,[16674]=186,[16675]=186,
	[16676]=186,[16677]=186,[16678]=186,[16679]=186,[16680]=186,[16681]=186,[16682]=181,[16683]=181,[16684]=181,
	[16685]=181,[16686]=181,[16687]=181,[16688]=181,[16689]=181,[16690]=182,[16691]=182,[16692]=182,[16693]=182,
	[16694]=182,[16695]=182,[16696]=182,[16697]=182,[16698]=183,[16699]=183,[16700]=183,[16701]=183,[16702]=183,
	[16703]=183,[16704]=183,[16705]=183,[16706]=185,[16707]=184,[16708]=184,[16709]=184,[16710]=184,[16711]=184,
	[16712]=184,[16713]=184,[16714]=185,[16715]=185,[16716]=185,[16717]=185,[16718]=185,[16719]=185,[16720]=185,
	[16721]=184,[16722]=188,[16723]=188,[16724]=188,[16725]=188,[16726]=188,[16727]=188,[16728]=188,[16729]=188,
	[16730]=189,[16731]=189,[16732]=189,[16733]=189,[16734]=189,[16735]=189,[16736]=189,[16737]=189,[16795]=201,
	[16796]=201,[16797]=201,[16798]=201,[16799]=201,[16800]=201,[16801]=201,[16802]=201,[16803]=203,[16804]=203,
	[16805]=203,[16806]=203,[16807]=203,[16808]=203,[16809]=203,[16810]=203,[16811]=202,[16812]=202,[16813]=202,
	[16814]=202,[16815]=202,[16816]=202,[16817]=202,[16818]=210,[16819]=202,[16820]=204,[16821]=204,[16822]=204,
	[16823]=204,[16824]=204,[16825]=204,[16826]=204,[16827]=204,[16828]=205,[16829]=205,[16830]=205,[16831]=205,
	[16832]=213,[16833]=205,[16834]=205,[16835]=205,[16836]=205,[16837]=207,[16838]=207,[16839]=207,[16840]=207,
	[16841]=207,[16842]=207,[16843]=207,[16844]=207,[16845]=206,[16846]=206,[16847]=206,[16848]=206,[16849]=206,
	[16850]=206,[16851]=206,[16852]=206,[16853]=208,[16854]=208,[16855]=208,[16856]=208,[16857]=208,[16858]=208,
	[16859]=208,[16860]=208,[16861]=209,[16862]=209,[16863]=209,[16864]=209,[16865]=209,[16866]=209,[16867]=209,
	[16868]=209,[16897]=214,[16898]=214,[16899]=214,[16900]=214,[16901]=214,[16902]=214,[16903]=214,[16904]=214,
	[16905]=213,[16906]=213,[16907]=213,[16908]=213,[16909]=213,[16910]=213,[16911]=213,[16912]=210,[16913]=210,
	[16914]=210,[16915]=210,[16916]=210,[16917]=210,[16918]=210,[16919]=211,[16920]=211,[16921]=211,[16922]=211,
	[16923]=211,[16924]=211,[16925]=211,[16926]=211,[16927]=212,[16928]=212,[16929]=212,[16930]=212,[16931]=212,
	[16932]=212,[16933]=212,[16934]=212,[16935]=215,[16936]=215,[16937]=215,[16938]=215,[16939]=215,[16940]=215,
	[16941]=215,[16942]=215,[16943]=216,[16944]=216,[16945]=216,[16946]=216,[16947]=216,[16948]=216,[16949]=216,
	[16950]=216,[16951]=217,[16952]=217,[16953]=217,[16954]=217,[16955]=217,[16956]=217,[16957]=217,[16958]=217,
	[16959]=218,[16960]=218,[16961]=218,[16962]=218,[16963]=218,[16964]=218,[16965]=218,[16966]=218,[16984]=489,
	[17064]=241,[17082]=241,[17562]=346,[17564]=346,[17566]=346,[17567]=346,[17568]=346,[17569]=346,[17570]=345,
	[17571]=345,[17572]=345,[17573]=345,[17576]=345,[17577]=345,[17578]=392,[17579]=392,[17580]=392,[17581]=392,
	[17583]=392,[17584]=392,[17586]=391,[17588]=391,[17590]=391,[17591]=391,[17592]=391,[17593]=391,[17594]=344,
	[17596]=344,[17598]=344,[17599]=344,[17600]=344,[17601]=344,[17602]=389,[17603]=389,[17604]=389,[17605]=389,
	[17607]=389,[17608]=389,[17610]=342,[17611]=342,[17612]=342,[17613]=342,[17616]=342,[17617]=342,[17618]=390,
	[17620]=390,[17622]=390,[17623]=390,[17624]=390,[17625]=390,[18202]=261,[18203]=261,[18204]=261,[18205]=261,
	[19577]=474,[19588]=475,[19594]=480,[19601]=482,[19605]=481,[19609]=476,[19613]=479,[19617]=478,[19621]=477,
	[19682]=421,[19683]=421,[19684]=421,[19685]=441,[19686]=441,[19687]=441,[19688]=442,[19689]=442,[19690]=443,
	[19691]=443,[19692]=443,[19693]=444,[19694]=444,[19695]=444,[19822]=474,[19823]=474,[19824]=474,[19825]=475,
	[19826]=475,[19827]=475,[19828]=476,[19829]=476,[19830]=476,[19831]=477,[19832]=477,[19833]=477,[19834]=478,
	[19835]=478,[19836]=478,[19838]=479,[19839]=479,[19840]=479,[19841]=480,[19842]=480,[19843]=480,[19845]=482,
	[19846]=482,[19848]=481,[19849]=481,[19863]=465,[19865]=461,[19866]=461,[19873]=464,[19893]=462,[19896]=463,
	[19898]=466,[19905]=462,[19910]=463,[19912]=464,[19920]=465,[19925]=466,[19951]=474,[19952]=475,[19953]=477,
	[19954]=478,[19955]=479,[19956]=476,[19957]=481,[19958]=480,[19959]=482,[20033]=481,[20034]=482,[20041]=467,
	[20042]=468,[20043]=469,[20044]=470,[20045]=471,[20046]=472,[20047]=473,[20048]=467,[20049]=468,[20050]=469,
	[20051]=470,[20052]=471,[20053]=472,[20054]=473,[20055]=469,[20056]=470,[20057]=467,[20058]=468,[20059]=471,
	[20060]=472,[20061]=473,[20150]=483,[20154]=483,[20158]=483,[20159]=485,[20163]=485,[20167]=488,[20171]=488,
	[20175]=488,[20176]=485,[20186]=486,[20190]=486,[20194]=486,[20195]=484,[20199]=484,[20203]=484,[20204]=487,
	[20208]=487,[20212]=487,[20295]=491,[20296]=490,[20406]=492,[20407]=492,[20408]=492,[21278]=142,[21329]=496,
	[21330]=496,[21331]=496,[21332]=496,[21333]=496,[21334]=499,[21335]=499,[21336]=499,[21337]=499,[21338]=499,
	[21343]=503,[21344]=503,[21345]=503,[21346]=503,[21347]=503,[21348]=507,[21349]=507,[21350]=507,[21351]=507,
	[21352]=507,[21353]=493,[21354]=493,[21355]=493,[21356]=493,[21357]=493,[21359]=497,[21360]=497,[21361]=497,
	[21362]=497,[21364]=497,[21365]=509,[21366]=509,[21367]=509,[21368]=509,[21370]=509,[21372]=501,[21373]=501,
	[21374]=501,[21375]=501,[21376]=501,[21387]=505,[21388]=505,[21389]=505,[21390]=505,[21391]=505,[21392]=495,
	[21393]=495,[21394]=495,[21395]=506,[21396]=506,[21397]=506,[21398]=502,[21399]=502,[21400]=502,[21401]=510,
	[21402]=510,[21403]=510,[21404]=498,[21405]=498,[21406]=498,[21407]=494,[21408]=494,[21409]=494,[21410]=508,
	[21411]=508,[21412]=508,[21413]=504,[21414]=504,[21415]=504,[21416]=500,[21417]=500,[21418]=500,[21994]=511,
	[21995]=511,[21996]=511,[21997]=511,[21998]=511,[21999]=511,[22000]=511,[22001]=511,[22002]=512,[22003]=512,
	[22004]=512,[22005]=512,[22006]=512,[22007]=512,[22008]=512,[22009]=512,[22010]=515,[22011]=515,[22013]=515,
	[22015]=515,[22016]=515,[22017]=515,[22060]=515,[22061]=515,[22062]=517,[22063]=517,[22064]=517,[22065]=517,
	[22066]=517,[22067]=517,[22068]=517,[22069]=517,[22070]=518,[22071]=518,[22072]=518,[22073]=518,[22074]=518,
	[22075]=518,[22076]=518,[22077]=518,[22078]=514,[22079]=514,[22080]=514,[22081]=514,[22082]=514,[22083]=514,
	[22084]=514,[22085]=514,[22086]=516,[22087]=516,[22088]=516,[22089]=516,[22090]=516,[22091]=516,[22092]=516,
	[22093]=516,[22095]=519,[22096]=519,[22097]=519,[22098]=519,[22099]=519,[22100]=519,[22101]=519,[22102]=519,
	[22106]=513,[22107]=513,[22108]=513,[22109]=513,[22110]=513,[22111]=513,[22112]=513,[22113]=513,[22301]=520,
	[22302]=520,[22303]=520,[22304]=520,[22305]=520,[22306]=520,[22311]=520,[22313]=520,[22416]=523,[22417]=523,
	[22418]=523,[22419]=523,[22420]=523,[22421]=523,[22422]=523,[22423]=523,[22424]=528,[22425]=528,[22426]=528,
	[22427]=528,[22428]=528,[22429]=528,[22430]=528,[22431]=528,[22436]=530,[22437]=530,[22438]=530,[22439]=530,
	[22440]=530,[22441]=530,[22442]=530,[22443]=530,[22464]=527,[22465]=527,[22466]=527,[22467]=527,[22468]=527,
	[22469]=527,[22470]=527,[22471]=527,[22476]=524,[22477]=524,[22478]=524,[22479]=524,[22480]=524,[22481]=524,
	[22482]=524,[22483]=524,[22488]=521,[22489]=521,[22490]=521,[22491]=521,[22492]=521,[22493]=521,[22494]=521,
	[22495]=521,[22496]=526,[22497]=526,[22498]=526,[22499]=526,[22500]=526,[22501]=526,[22502]=526,[22503]=526,
	[22504]=529,[22505]=529,[22506]=529,[22507]=529,[22508]=529,[22509]=529,[22510]=529,[22511]=529,[22512]=525,
	[22513]=525,[22514]=525,[22515]=525,[22516]=525,[22517]=525,[22518]=525,[22519]=525,[22843]=543,[22852]=539,
	[22855]=541,[22856]=522,[22857]=538,[22858]=537,[22859]=540,[22860]=542,[22862]=543,[22863]=539,[22864]=522,
	[22865]=541,[22867]=538,[22868]=537,[22869]=540,[22870]=542,[22872]=537,[22873]=537,[22874]=543,[22875]=543,
	[22876]=538,[22877]=539,[22878]=539,[22879]=522,[22880]=522,[22881]=541,[22882]=540,[22883]=542,[22884]=541,
	[22885]=540,[22886]=542,[22887]=538,[23059]=523,[23060]=524,[23061]=525,[23062]=526,[23063]=529,[23064]=521,
	[23065]=527,[23066]=528,[23067]=530,[23078]=533,[23081]=534,[23082]=535,[23084]=536,[23085]=536,[23087]=533,
	[23088]=535,[23089]=534,[23090]=533,[23091]=536,[23092]=535,[23093]=534,[23243]=537,[23244]=537,[23251]=543,
	[23252]=543,[23253]=539,[23254]=539,[23255]=541,[23256]=541,[23257]=522,[23258]=522,[23259]=538,[23260]=538,
	[23261]=540,[23262]=540,[23263]=542,[23264]=542,[23272]=544,[23273]=544,[23274]=544,[23275]=544,[23276]=544,
	[23277]=544,[23278]=550,[23279]=550,[23280]=551,[23281]=551,[23282]=547,[23283]=547,[23284]=548,[23285]=548,
	[23286]=545,[23287]=545,[23288]=549,[23289]=549,[23290]=546,[23291]=546,[23292]=550,[23293]=550,[23294]=551,
	[23295]=551,[23296]=547,[23297]=547,[23298]=548,[23299]=548,[23300]=545,[23301]=545,[23302]=549,[23303]=549,
	[23304]=546,[23305]=546,[23306]=550,[23307]=550,[23308]=551,[23309]=551,[23310]=547,[23311]=547,[23312]=548,
	[23313]=548,[23314]=545,[23315]=545,[23316]=549,[23317]=549,[23318]=546,[23319]=546,
--@version-bc@
	[21846]=552,[21847]=552,[21848]=552,[21849]=555,[21850]=555,[21851]=555,[21852]=555,[21853]=555,[21854]=555,
	[21855]=555,[21859]=556,[21860]=556,[21861]=556,[21862]=556,[21863]=557,[21864]=557,[21865]=557,[21866]=558,
	[21867]=558,[21868]=558,[21869]=553,[21870]=553,[21871]=553,[21873]=554,[21874]=554,[21875]=554,[23482]=560,
	[23484]=560,[23487]=560,[23488]=560,[23489]=560,[23490]=561,[23491]=561,[23493]=561,[23494]=561,[23506]=562,
	[23507]=562,[23508]=562,[23509]=563,[23510]=563,[23511]=563,[23512]=563,[23513]=564,[23514]=564,[23515]=564,
	[23516]=564,[23517]=569,[23518]=569,[23519]=569,[23520]=566,[23521]=566,[23522]=566,[23523]=565,[23524]=565,
	[23525]=565,[24249]=570,[24255]=570,[24261]=571,[24262]=559,[24263]=572,[24264]=571,[24266]=559,[24267]=572,
	[24544]=567,[24545]=567,[24546]=567,[24547]=567,[24549]=567,[24552]=568,[24553]=568,[24554]=568,[24555]=568,
	[24556]=568,[25654]=611,[25655]=611,[25656]=611,[25657]=611,[25659]=612,[25660]=612,[25661]=612,[25662]=612,
	[25668]=613,[25669]=613,[25670]=613,[25671]=613,[25673]=614,[25674]=614,[25675]=614,[25676]=614,[25685]=573,
	[25686]=573,[25687]=573,[25689]=574,[25690]=574,[25691]=574,[25692]=576,[25693]=576,[25694]=576,[25695]=575,
	[25696]=575,[25697]=575,[25830]=577,[25831]=577,[25832]=577,[25833]=577,[25834]=577,[25854]=579,[25855]=579,
	[25856]=579,[25857]=579,[25858]=579,[25997]=578,[25998]=578,[25999]=578,[26000]=578,[26001]=578,[27465]=658,
	[27468]=637,[27469]=580,[27470]=580,[27471]=580,[27472]=580,[27473]=580,[27474]=650,[27475]=653,[27497]=661,
	[27508]=647,[27509]=620,[27510]=630,[27528]=660,[27531]=659,[27535]=623,[27536]=662,[27537]=644,[27702]=582,
	[27703]=582,[27704]=582,[27705]=582,[27706]=582,[27707]=581,[27708]=581,[27709]=581,[27710]=581,[27711]=581,
	[27713]=660,[27737]=637,[27738]=647,[27739]=623,[27771]=661,[27775]=662,[27776]=620,[27778]=644,[27796]=658,
	[27797]=659,[27801]=650,[27802]=630,[27803]=653,[27837]=659,[27838]=647,[27839]=623,[27870]=661,[27873]=637,
	[27874]=650,[27875]=662,[27879]=583,[27880]=583,[27881]=583,[27882]=583,[27883]=583,[27907]=658,[27908]=620,
	[27909]=630,[27936]=660,[27948]=644,[27977]=653,[28126]=584,[28127]=584,[28128]=584,[28129]=584,[28130]=584,
	[28136]=585,[28137]=585,[28138]=585,[28139]=585,[28140]=585,[28189]=737,[28191]=658,[28192]=660,[28193]=658,
	[28202]=637,[28203]=623,[28204]=620,[28205]=653,[28224]=659,[28225]=661,[28228]=650,[28229]=647,[28230]=662,
	[28231]=630,[28232]=644,[28264]=659,[28275]=650,[28278]=647,[28285]=623,[28331]=586,[28332]=586,[28333]=586,
	[28334]=586,[28335]=586,[28348]=637,[28349]=630,[28350]=653,[28401]=660,[28403]=661,[28413]=662,[28414]=620,
	[28415]=644,[28613]=595,[28614]=595,[28615]=595,[28616]=595,[28617]=595,[28618]=601,[28619]=601,[28620]=601,
	[28622]=601,[28623]=601,[28624]=591,[28625]=591,[28626]=591,[28627]=591,[28628]=591,[28679]=589,[28680]=589,
	[28681]=589,[28683]=589,[28684]=605,[28685]=605,[28686]=605,[28687]=605,[28688]=605,[28689]=593,[28690]=593,
	[28691]=593,[28692]=593,[28693]=593,[28694]=603,[28695]=603,[28696]=603,[28697]=603,[28698]=603,[28699]=590,
	[28700]=590,[28701]=590,[28702]=590,[28703]=590,[28704]=597,[28705]=597,[28706]=597,[28707]=597,[28708]=597,
	[28709]=607,[28710]=607,[28711]=607,[28712]=607,[28713]=607,[28714]=599,[28715]=599,[28716]=599,[28717]=599,
	[28718]=599,[28719]=609,[28720]=609,[28721]=609,[28722]=609,[28723]=609,[28724]=589,[28805]=596,[28806]=596,
	[28807]=596,[28808]=596,[28809]=596,[28811]=602,[28812]=602,[28813]=602,[28814]=602,[28815]=602,[28817]=592,
	[28818]=592,[28819]=592,[28820]=592,[28821]=592,[28831]=587,[28832]=587,[28833]=587,[28834]=587,[28835]=587,
	[28836]=606,[28837]=606,[28838]=606,[28839]=606,[28840]=606,[28841]=594,[28842]=594,[28843]=594,[28844]=594,
	[28845]=594,[28846]=604,[28847]=604,[28848]=604,[28849]=604,[28850]=604,[28851]=588,[28852]=588,[28853]=588,
	[28854]=588,[28855]=588,[28856]=598,[28857]=598,[28858]=598,[28859]=598,[28860]=598,[28861]=608,[28862]=608,
	[28863]=608,[28864]=608,[28865]=608,[28866]=600,[28867]=600,[28868]=600,[28869]=600,[28870]=600,[28871]=610,
	[28872]=610,[28873]=610,[28874]=610,[28875]=610,[28963]=645,[28964]=645,[28966]=645,[28967]=645,[28968]=645,
	[29011]=654,[29012]=654,[29015]=654,[29016]=654,[29017]=654,[29019]=655,[29020]=655,[29021]=655,[29022]=655,
	[29023]=655,[29028]=631,[29029]=631,[29030]=631,[29031]=631,[29032]=631,[29033]=632,[29034]=632,[29035]=632,
	[29036]=632,[29037]=632,[29038]=633,[29039]=633,[29040]=633,[29042]=633,[29043]=633,[29044]=621,[29045]=621,
	[29046]=621,[29047]=621,[29048]=621,[29049]=663,[29050]=663,[29053]=663,[29054]=663,[29055]=663,[29056]=664,
	[29057]=664,[29058]=664,[29059]=664,[29060]=664,[29061]=624,[29062]=624,[29063]=624,[29064]=624,[29065]=624,
	[29066]=625,[29067]=625,[29068]=625,[29069]=625,[29070]=625,[29071]=626,[29072]=626,[29073]=626,[29074]=626,
	[29075]=626,[29076]=648,[29077]=648,[29078]=648,[29079]=648,[29080]=648,[29081]=651,[29082]=651,[29083]=651,
	[29084]=651,[29085]=651,[29086]=638,[29087]=638,[29088]=638,[29089]=638,[29090]=638,[29091]=639,[29092]=639,
	[29093]=639,[29094]=639,[29095]=639,[29096]=640,[29097]=640,[29098]=640,[29099]=640,[29100]=640,[29515]=616,
	[29516]=616,[29517]=616,[29519]=617,[29520]=617,[29521]=617,[29522]=618,[29523]=618,[29524]=618,[29525]=619,
	[29526]=619,[29527]=619,[29594]=718,[29595]=718,[29596]=718,[29597]=718,[29598]=718,[29599]=718,[29600]=697,
	[29601]=697,[29602]=697,[29603]=697,[29604]=697,[29605]=697,[29606]=717,[29607]=717,[29608]=717,[29609]=717,
	[29610]=717,[29611]=717,[29612]=698,[29613]=698,[29614]=698,[29615]=698,[29616]=698,[29617]=698,[30113]=656,
	[30114]=656,[30115]=656,[30116]=656,[30117]=656,[30118]=657,[30119]=657,[30120]=657,[30121]=657,[30122]=657,
	[30123]=628,[30124]=628,[30125]=628,[30126]=628,[30127]=628,[30129]=629,[30130]=629,[30131]=629,[30132]=629,
	[30133]=629,[30134]=627,[30135]=627,[30136]=627,[30137]=627,[30138]=627,[30139]=652,[30140]=652,[30141]=652,
	[30142]=652,[30143]=652,[30144]=622,[30145]=622,[30146]=622,[30148]=622,[30149]=622,[30150]=665,[30151]=665,
	[30152]=665,[30153]=665,[30154]=665,[30159]=666,[30160]=666,[30161]=666,[30162]=666,[30163]=666,[30164]=634,
	[30165]=634,[30166]=634,[30167]=634,[30168]=634,[30169]=635,[30170]=635,[30171]=635,[30172]=635,[30173]=635,
	[30185]=636,[30186]=615,[30187]=615,[30188]=615,[30189]=636,[30190]=636,[30192]=636,[30194]=636,[30196]=649,
	[30200]=615,[30201]=615,[30205]=649,[30206]=649,[30207]=649,[30210]=649,[30211]=646,[30212]=646,[30213]=646,
	[30214]=646,[30215]=646,[30216]=642,[30217]=642,[30219]=642,[30220]=642,[30221]=642,[30222]=641,[30223]=641,
	[30228]=641,[30229]=641,[30230]=641,[30231]=643,[30232]=643,[30233]=643,[30234]=643,[30235]=643,[30969]=672,
	[30970]=673,[30972]=672,[30974]=673,[30975]=672,[30976]=673,[30977]=672,[30978]=673,[30979]=672,[30980]=673,
	[30982]=680,[30983]=681,[30985]=679,[30987]=679,[30988]=681,[30989]=680,[30990]=680,[30991]=679,[30992]=681,
	[30993]=680,[30994]=681,[30995]=679,[30996]=681,[30997]=680,[30998]=679,[31001]=669,[31003]=669,[31004]=669,
	[31005]=669,[31006]=669,[31007]=683,[31008]=684,[31011]=682,[31012]=683,[31014]=684,[31015]=682,[31016]=683,
	[31017]=684,[31018]=682,[31019]=683,[31020]=684,[31021]=682,[31022]=683,[31023]=684,[31024]=682,[31026]=668,
	[31027]=668,[31028]=668,[31029]=668,[31030]=668,[31032]=678,[31034]=676,[31035]=677,[31037]=678,[31039]=676,
	[31040]=677,[31041]=678,[31042]=676,[31043]=677,[31044]=676,[31045]=678,[31046]=677,[31047]=678,[31048]=676,
	[31049]=677,[31050]=670,[31051]=670,[31052]=670,[31053]=670,[31054]=670,[31055]=671,[31056]=671,[31057]=671,
	[31058]=671,[31059]=671,[31060]=675,[31061]=674,[31063]=675,[31064]=674,[31065]=674,[31066]=675,[31067]=674,
	[31068]=675,[31069]=675,[31070]=674,[31338]=667,[31339]=667,[31375]=685,[31376]=685,[31377]=685,[31378]=685,
	[31379]=685,[31396]=686,[31397]=686,[31400]=686,[31406]=686,[31407]=686,[31409]=687,[31410]=687,[31411]=687,
	[31412]=687,[31413]=687,[31584]=689,[31585]=689,[31586]=689,[31587]=689,[31588]=689,[31589]=688,[31590]=688,
	[31591]=688,[31592]=688,[31593]=688,[31613]=690,[31614]=690,[31616]=690,[31618]=690,[31619]=690,[31620]=691,
	[31621]=692,[31622]=691,[31623]=691,[31624]=691,[31625]=691,[31626]=692,[31627]=692,[31628]=692,[31629]=692,
	[31630]=693,[31631]=693,[31632]=693,[31633]=693,[31634]=693,[31635]=694,[31636]=694,[31637]=694,[31638]=694,
	[31639]=694,[31640]=695,[31641]=695,[31642]=695,[31643]=695,[31644]=695,[31646]=696,[31647]=696,[31648]=696,
	[31649]=696,[31650]=696,[32837]=699,[32838]=699,[32945]=719,[32946]=719,[33173]=566,[34431]=680,[34432]=681,
	[34433]=679,[34434]=674,[34435]=675,[34436]=670,[34437]=684,[34438]=683,[34439]=682,[34441]=672,[34442]=673,
	[34443]=669,[34444]=676,[34445]=678,[34446]=677,[34447]=671,[34448]=668,[34485]=680,[34487]=681,[34488]=679,
	[34527]=675,[34528]=674,[34541]=670,[34542]=684,[34543]=683,[34545]=682,[34546]=672,[34547]=673,[34549]=669,
	[34554]=678,[34555]=677,[34556]=676,[34557]=671,[34558]=668,[34559]=681,[34560]=679,[34561]=680,[34562]=675,
	[34563]=674,[34564]=670,[34565]=683,[34566]=684,[34567]=682,[34568]=673,[34569]=672,[34570]=669,[34571]=678,
	[34572]=677,[34573]=676,[34574]=671,[34575]=668,[34703]=737,[35328]=738,[35329]=738,[35330]=738,[35331]=738,
	[35332]=738,[35333]=739,[35334]=739,[35335]=739,[35336]=739,[35337]=739,[35338]=740,[35339]=740,[35340]=740,
	[35341]=740,[35342]=740,[35343]=741,[35344]=741,[35345]=741,[35346]=741,[35347]=741,[35356]=742,[35357]=742,
	[35358]=742,[35359]=742,[35360]=742,[35361]=744,[35362]=744,[35363]=744,[35364]=744,[35365]=744,[35366]=745,
	[35367]=745,[35368]=745,[35369]=745,[35370]=745,[35371]=743,[35372]=743,[35373]=743,[35374]=743,[35375]=743,
	[35376]=749,[35377]=749,[35378]=749,[35379]=749,[35380]=749,[35381]=748,[35382]=748,[35383]=748,[35384]=748,
	[35385]=748,[35386]=746,[35387]=746,[35388]=746,[35389]=746,[35390]=746,[35391]=747,[35392]=747,[35393]=747,
	[35394]=747,[35395]=747,[35402]=751,[35403]=751,[35404]=751,[35405]=751,[35406]=751,[35407]=750,[35408]=750,
	[35409]=750,[35410]=750,[35411]=750,[35412]=752,[35413]=752,[35414]=752,[35415]=752,[35416]=752,
--@end-version-bc@
}

-- [setID] { {itemID's}, armorTypeID, qualityID, itemLevelAvg, allowableClasses }

function ItemSet.GetSetName(setID, addQualityColor)
    if not ITEM_SET_DATA[setID] then return end
    if addQualityColor then
        return format("%s%s|r", COLOR_STRINGS[ITEM_SET_DATA[setID][3]], GetItemSetInfo(setID))
    else
        return GetItemSetInfo(setID)
    end
end

function ItemSet.GetSetIDforItemID(itemID)
	return ITEM_TO_SET[itemID]
end

function ItemSet.GetSetItems(setID)
    return ITEM_SET_DATA[setID] and ITEM_SET_DATA[setID][1] or nil
end

function ItemSet.GetSetIcon(setID, useClassIcon)
    if not ITEM_SET_DATA[setID] then return end
	if SPECIAL_ICONS[setID] then
		return SPECIAL_ICONS[setID]
    else
        if useClassIcon and ITEM_SET_DATA[setID][5] and CLASS_BIT_TO_CLASS[ITEM_SET_DATA[setID][5]] then
            return ICON_PATH_CLASS[CLASS_BIT_TO_CLASS[ITEM_SET_DATA[setID][5]]]
        else
            return GetItemIcon(ITEM_SET_DATA[setID][1][1]) or NO_ICON
        end
	end
end

function ItemSet.GetPhaseTextureForSetID(setID)
    if not ITEM_SET_DATA[setID] then return end
    if not ContentPhaseCache[setID] then
        local content = ITEM_SET_DATA[setID][1]
        local phase = 0
        for i = 1, #content do
            local c = ContentPhase:GetForItemID(content[i])
            phase = ( c and c > phase ) and c or phase
        end

        ContentPhaseCache[setID] = phase
    end
    return ContentPhaseCache[setID]
end

function ItemSet.GetSetDescriptionString(setID)
    if not ITEM_SET_DATA[setID] then return end
    local itemType
    if ITEM_SET_DATA[setID][5] and CLASS_BIT_TO_CLASS[ITEM_SET_DATA[setID][5]] then
        itemType = CLASS_NAMES_WITH_COLORS[CLASS_BIT_TO_CLASS[ITEM_SET_DATA[setID][5]]]
    else
        itemType = ITEM_SET_DATA[setID][2] > 0 and GetItemSubClassInfo(4, ITEM_SET_DATA[setID][2]) or ""
    end

    if itemType and itemType ~= "" then
        return format("%s%s | |cff00ccffiLvlAvg:|r %d", Requirements.BuildClassString(ITEM_SET_DATA[setID][5]), itemType, ITEM_SET_DATA[setID][4])
    elseif ITEM_SET_DATA[setID][5] > 0 then
        return format("%s |cff00ccffiLvlAvg:|r %d", Requirements.BuildClassString(ITEM_SET_DATA[setID][5]), ITEM_SET_DATA[setID][4])
    else
        return format("|cff00ccffiLvlAvg:|r %d", ITEM_SET_DATA[setID][4])
    end
end

function ItemSet.GetSetDataForExtraFrame(setID)
    if not ITEM_SET_DATA[setID] then return end
    local data = {"set"..setID, 0}
    for i = 1, #ITEM_SET_DATA[setID][1] do
        data[#data+1] = ITEM_SET_DATA[setID][1][i]
    end
    return data
end